{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\Project\\\\bank_front\\\\src\\\\componets\\\\ViewAccount\\\\View.js\",\n  _s = $RefreshSig$();\nimport '../../App.css';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport Account_Block from './Account_Block';\n\n//계좌조회\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction View({\n  sessionCookie\n}) {\n  _s();\n  const [account, setAccount] = useState([{\n    number: \"00000000000\",\n    money: 500000,\n    history: [{\n      \"11111\": \"+50000\"\n    }]\n  }, {\n    number: \"2836819827983\",\n    money: 500000,\n    history: [{\n      \"12233\": \"+50000\"\n    }, {\n      \"13246\": \"-3200\"\n    }]\n  }]);\n  useEffect(() => {\n    ///getAccountsByUserAndType.do\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('http://localhost:8080/back_bank/getAccountsByUserAndType.do', {\n          params: {\n            accountType: \"inout\",\n            JSESSIONID: sessionCookie\n          }\n        });\n        const res = [];\n        for (const account of response.data) {\n          const history = await axios.get('http://localhost:8080/back_bank/getTransactionHistory.do', {\n            params: {\n              accountId: account[\"number\"],\n              JSESSIONID: sessionCookie\n            }\n          });\n          res.push({\n            number: account[\"number\"],\n            money: account[\"money\"],\n            history: history.data\n          });\n        }\n        setAccount(res);\n      } catch (error) {\n        console.error(\"API 요청 중 오류 발생:\", error);\n      }\n    };\n    fetchData();\n  }, []);\n  const accountList = account.map(obj => /*#__PURE__*/_jsxDEV(Account_Block, {\n    history: obj.history,\n    monney: obj.money,\n    number: obj.number\n  }, obj.number, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 7\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: accountList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(View, \"rm5SGNtsj3MoNZCHTxiXRM+cL0s=\");\n_c = View;\nexport default View;\nvar _c;\n$RefreshReg$(_c, \"View\");","map":{"version":3,"names":["axios","useEffect","useState","Account_Block","jsxDEV","_jsxDEV","View","sessionCookie","_s","account","setAccount","number","money","history","fetchData","response","get","params","accountType","JSESSIONID","res","data","accountId","push","error","console","accountList","map","obj","monney","fileName","_jsxFileName","lineNumber","columnNumber","className","children","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/Project/bank_front/src/componets/ViewAccount/View.js"],"sourcesContent":["\r\nimport '../../App.css';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport Account_Block from './Account_Block';\r\n\r\n\r\n//계좌조회\r\nfunction View({sessionCookie}){\r\n    const [account, setAccount] = useState([\r\n        {\r\n          number: \"00000000000\",\r\n          money: 500000,\r\n          history: [{\"11111\": \"+50000\"}]\r\n        },\r\n        {\r\n          number: \"2836819827983\",\r\n          money: 500000,\r\n          history: [{\"12233\": \"+50000\"}, {\"13246\" : \"-3200\"}]\r\n        },\r\n    ])\r\n  \r\n    useEffect(() => {\r\n      ///getAccountsByUserAndType.do\r\n      const fetchData = async () => {\r\n        try {\r\n          const response = await axios.get('http://localhost:8080/back_bank/getAccountsByUserAndType.do', {\r\n            params: {\r\n              accountType: \"inout\",\r\n              JSESSIONID: sessionCookie\r\n            }\r\n          });\r\n          const res = [];\r\n          for (const account of response.data) {\r\n            const history = await axios.get('http://localhost:8080/back_bank/getTransactionHistory.do', {\r\n              params: {\r\n                accountId: account[\"number\"],\r\n                JSESSIONID: sessionCookie\r\n              }\r\n            });\r\n  \r\n  \r\n            res.push({\r\n              number: account[\"number\"],\r\n              money: account[\"money\"],\r\n              history: history.data\r\n            });\r\n          }\r\n  \r\n          setAccount(res);\r\n        } catch (error) {\r\n          console.error(\"API 요청 중 오류 발생:\", error);\r\n        }\r\n      };\r\n  \r\n      fetchData();\r\n  \r\n    }, [])\r\n    \r\n    const accountList = account.map(obj=>\r\n      <Account_Block history={obj.history} monney={obj.money} number={obj.number} key={obj.number}/>\r\n    )\r\n    return(\r\n    <div className='container'>\r\n      {accountList}\r\n    </div>)\r\n  }\r\n\r\n\r\n  export default View;"],"mappings":";;AACA,OAAO,eAAe;AACtB,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,OAAOC,aAAa,MAAM,iBAAiB;;AAG3C;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,SAASC,IAAIA,CAAC;EAACC;AAAa,CAAC,EAAC;EAAAC,EAAA;EAC1B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,CACnC;IACES,MAAM,EAAE,aAAa;IACrBC,KAAK,EAAE,MAAM;IACbC,OAAO,EAAE,CAAC;MAAC,OAAO,EAAE;IAAQ,CAAC;EAC/B,CAAC,EACD;IACEF,MAAM,EAAE,eAAe;IACvBC,KAAK,EAAE,MAAM;IACbC,OAAO,EAAE,CAAC;MAAC,OAAO,EAAE;IAAQ,CAAC,EAAE;MAAC,OAAO,EAAG;IAAO,CAAC;EACpD,CAAC,CACJ,CAAC;EAEFZ,SAAS,CAAC,MAAM;IACd;IACA,MAAMa,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,6DAA6D,EAAE;UAC9FC,MAAM,EAAE;YACNC,WAAW,EAAE,OAAO;YACpBC,UAAU,EAAEZ;UACd;QACF,CAAC,CAAC;QACF,MAAMa,GAAG,GAAG,EAAE;QACd,KAAK,MAAMX,OAAO,IAAIM,QAAQ,CAACM,IAAI,EAAE;UACnC,MAAMR,OAAO,GAAG,MAAMb,KAAK,CAACgB,GAAG,CAAC,0DAA0D,EAAE;YAC1FC,MAAM,EAAE;cACNK,SAAS,EAAEb,OAAO,CAAC,QAAQ,CAAC;cAC5BU,UAAU,EAAEZ;YACd;UACF,CAAC,CAAC;UAGFa,GAAG,CAACG,IAAI,CAAC;YACPZ,MAAM,EAAEF,OAAO,CAAC,QAAQ,CAAC;YACzBG,KAAK,EAAEH,OAAO,CAAC,OAAO,CAAC;YACvBI,OAAO,EAAEA,OAAO,CAACQ;UACnB,CAAC,CAAC;QACJ;QAEAX,UAAU,CAACU,GAAG,CAAC;MACjB,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACzC;IACF,CAAC;IAEDV,SAAS,CAAC,CAAC;EAEb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMY,WAAW,GAAGjB,OAAO,CAACkB,GAAG,CAACC,GAAG,iBACjCvB,OAAA,CAACF,aAAa;IAACU,OAAO,EAAEe,GAAG,CAACf,OAAQ;IAACgB,MAAM,EAAED,GAAG,CAAChB,KAAM;IAACD,MAAM,EAAEiB,GAAG,CAACjB;EAAO,GAAMiB,GAAG,CAACjB,MAAM;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAC/F,CAAC;EACD,oBACA5B,OAAA;IAAK6B,SAAS,EAAC,WAAW;IAAAC,QAAA,EACvBT;EAAW;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AACR;AAACzB,EAAA,CA1DMF,IAAI;AAAA8B,EAAA,GAAJ9B,IAAI;AA6DX,eAAeA,IAAI;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}